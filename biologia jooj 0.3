import time
import os
import sys
import random
from colorama import Fore as cor, Style as estilo


sys.set_int_max_str_digits(10000000)

cores_aleatorias = [cor.BLACK, cor.BLUE, cor.RED, cor.GREEN, cor.YELLOW, cor.CYAN, cor.MAGENTA]

def print_bonito(texto, delay=0.001):
    for letra in texto:
        print(letra, end='', flush=True)
        time.sleep(delay)

def input_bonito(texto, delay=0.001):
    for letra in texto:
        print(letra, end='', flush=True)
        time.sleep(delay)
    input()

jogadores_participando = []
jogo_ativado = 1

while jogo_ativado == 1:
    while True:
        os.system('cls')
        print_bonito("Quantos jogadores vai jogar (max. 7)?\n")
        qnt_de_jogadores = input()

        if qnt_de_jogadores.isdigit() and 1 <= int(qnt_de_jogadores) <= 7:
            for i in range(int(qnt_de_jogadores)):
                print_bonito(f"Digite o nome do jogador {i+1}: ")
                jogador_nome = input()
                entrada = random.randint(1,7)
                cor_jogador = random.choice(cores_aleatorias)
                pontuacao = 0

                while any(jogador['entrada'] == entrada for jogador in jogadores_participando):
                    entrada = random.randint(1,7)

                while any(jogador['cor'] == cor_jogador for jogador in jogadores_participando):
                    cor_jogador = random.choice(cores_aleatorias)

                jogador = {'nome': jogador_nome, 'entrada': entrada, 'cor':cor_jogador, 'pontuacao':pontuacao}
                jogadores_participando.append(jogador)
            os.system('cls')
            for jogador in jogadores_participando:
                print(jogador['cor']+f"Jogador: {jogador['nome']} |Sua rodada: {jogador['entrada']}" + estilo.RESET_ALL)
            print_bonito("\nOs dados estão corretos?\n")
            print_bonito(cor.YELLOW+("(1. Sim) (2. Não)\n"))
            decisao = input(estilo.RESET_ALL)
            if decisao == "1":
                break
            elif decisao == '2':
                jogadores_participando.clear()
                
            
        else:
            input_bonito("Inválido, coloque as quantidade de jogadores novamente (Pressione Enter)")
            os.system('cls')
    jogadores_participando = sorted(jogadores_participando, key=lambda x: x['entrada'])
    gameplay = 1
    while gameplay == 1:
        for jogador in jogadores_participando:
            os.system('cls')
            print_bonito(f"{jogador['cor']+jogador['nome']}\n")
            print_bonito(estilo.RESET_ALL+"Pergunta extremamente dificil e complicada\n")
            print_bonito("Qual é a mistura de quero-quero com pica pau????\n")
            print_bonito(cor.YELLOW+"(1. Não sei) (2. não existe) (3. QUERO PICA E QUERO PAU)")
            decisao = input(estilo.RESET_ALL)
            if decisao == '3':
                jogador['pontuacao'] += 10
            else:
                print_bonito("ERROU, errou feio errou rudi")
                input()
        os.system('cls')
        for jogador in jogadores_participando:
            print_bonito(f"pontuação de {jogador['cor']+jogador['nome'] + estilo.RESET_ALL}: {jogador['pontuacao']} \n")
            if jogador['pontuacao'] >= 30:
                print_bonito(f"parabens {jogador['cor']+jogador['nome'] + estilo.RESET_ALL} Você venceu o jooj\n")
        input()

    


